/* WARNING: if you change an index of an entity, please change dbVersion at com.groupxs._common\www\App\config.db.js */
{
    "name": "ProtocolSnapshot",
    "variableName": "protocolSnapshot",
    "variablePlural": "protocolSnapshots",
    "isEntity": true,
    "requiredStorage": "large",
    "baseExtends": "bKO.BaseKO",
    "properties": [
      { "name": "protocolId", "type": "string", "isRequired": true, "isSimpleIndex": true },
      { "name": "powerplantId", "type": "string", "isRequired": true, "isSimpleIndex": true },
      { "name": "protocolBriefcaseId", "type": "string", "isSimpleIndex": true },
      { "name": "templateName", "type": "LocalizedString", "isRequired": true },
      { "name": "name", "type": "string", "isRequired": true },
      {
        "name": "date",
        "type": "UnixOffset",
        "construct": "UnixOffset.getFromString('01.01.1900')",
        "constructko": "ko.observable<Moment>()",
        "typeko": "KnockoutObservable<Moment>",
        "update": "this.date = UnixOffset.getFromIUnixOffset(protocolSnapshot.date)",
        "updateko": "this.date.set(protocolSnapshot.date())",
        "getko": "protocolSnapshot.date.getMoment()"
      },
      { "name": "time", "type": "string", "isRequired": false, "regularExpression": "^([0-1][0-9]|[2][0-3]):([0-5][0-9])$" },
      {
        "name": "status",
        "type": "string",
        "constructko": "ko.observable<en.ProtocolStatus>()",
        "typeko": "KnockoutObservable<en.ProtocolStatus>",
        "getko": "en.ProtocolStatus.get(protocolSnapshot.status)",
        "updateko": "this.status = protocolSnapshot.status().friendlyName",
        "defaultvalue": "'none'"
      },
      { "name": "reportId", "type": "string", "isRequired": false },
      { "name": "reports", "type": "Report[]" },
      { "name": "owner", "type": "string", "isRequired": true },
      { "name": "topics", "type": "ProtocolTopicSnapshot[]" }
    ]
  }
  